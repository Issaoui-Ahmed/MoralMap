"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[602],{63:(e,t,n)=>{var r=n(7260);n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}})},309:(e,t,n)=>{n.d(t,{U$:()=>a,W4:()=>l,dk:()=>i,fB:()=>o});var r=n(2115);function o(e){return Object.freeze({__version:1,map:e})}function l(e,t){return Object.freeze({...e,...t})}let i=(0,r.createContext)(null);function a(){let e=(0,r.use)(i);if(null==e)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}},514:(e,t,n)=>{n.d(t,{K:()=>l,Q:()=>o});var r=n(2115);function o(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function l(e,t){return null==t?function(t,n){let o=(0,r.useRef)(void 0);return o.current||(o.current=e(t,n)),o}:function(n,o){let l=(0,r.useRef)(void 0);l.current||(l.current=e(n,o));let i=(0,r.useRef)(n),{instance:a}=l.current;return(0,r.useEffect)(function(){i.current!==n&&(t(a,n,i.current),i.current=n)},[a,n,t]),l}}},2440:(e,t,n)=>{n.d(t,{Nq:()=>d,Lt:()=>f,X3:()=>p});var r=n(2115);n(7650);var o=n(309);function l(e){return(0,r.forwardRef)(function(t,n){let{instance:l,context:i}=e(t).current;(0,r.useImperativeHandle)(n,()=>l);let{children:a}=t;return null==a?null:r.createElement(o.dk,{value:i},a)})}var i=n(514);function a(e,t){let n=(0,r.useRef)(void 0);(0,r.useEffect)(function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}},[e,t])}var s=n(5452);function c(e,t){(0,r.useEffect)(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function u(e){return function(t){let n=(0,o.U$)(),l=e((0,s.P)(t,n),n);return!function(e,t){let n=(0,r.useRef)(t);(0,r.useEffect)(function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}(n.map,t.attribution),a(l.current,t.eventHandlers),c(l.current,n),l}}function d(e,t){return l(u((0,i.K)(e,t)))}function f(e,t){var n;return l((n=(0,i.K)(e,t),function(e){let t=(0,o.U$)(),l=n((0,s.P)(e,t),t);a(l.current,e.eventHandlers),c(l.current,t);var i=l.current;let u=(0,r.useRef)(void 0);return(0,r.useEffect)(function(){if(e.pathOptions!==u.current){let t=e.pathOptions??{};i.instance.setStyle(t),u.current=t}},[i,e]),l}))}function p(e,t){var n;return n=u((0,i.K)(e,t)),(0,r.forwardRef)(function(e,t){let{instance:o}=n(e).current;return(0,r.useImperativeHandle)(t,()=>o),null})}},2602:(e,t,n)=>{let r;n.r(t),n.d(t,{default:()=>T});var o=n(5155),l=n(2115),i=n(4755),a=n(5384),s=n(5027),c=n.n(s),u=n(7054),d=n(6264),f=n(8142),p=n(5078),h=n(4597);let m=e=>{let{from:t,to:n,alternatives:r=[],defaultTimeMinutes:i,selectedIndex:a,setSelectedIndex:s,consentGiven:m,setMapPoints:x,setRoutes:g}=e,b=(0,u.ko)(),[v,y]=(0,l.useState)([]),j=(0,l.useRef)([]);return(0,l.useEffect)(()=>{if(!b||!t||!n)return;let e=new AbortController;return async function(){let o=[(0,h.K)([t,n],e.signal)];r.forEach(r=>{r.middle&&o.push((0,h.K)([t,r.middle,n],e.signal))});let l=(await Promise.all(o)).map((e,t)=>{var n;return e?{coords:e,totalTimeMinutes:0===t?i:null==(n=r[t-1])?void 0:n.totalTimeMinutes}:null});y(l);let a=l.flatMap(e=>(null==e?void 0:e.coords)?e.coords:[]);if(a.length){let e=c().latLngBounds(a);b.fitBounds(e,{padding:[50,50],maxZoom:15,animate:!1})}}(),()=>{e.abort(),y([])}},[b,t,n,r,i]),(0,l.useEffect)(()=>{if(!b||!m)return;let e=()=>{x(v.map(e=>{if(!(null==e?void 0:e.coords))return null;let t=e.coords[Math.floor(e.coords.length/2)],n=b.latLngToContainerPoint(c().latLng(t[0],t[1]));return{x:n.x,y:n.y}})),g(v)};return b.on("move",e),b.on("zoom",e),e(),()=>{b.off("move",e),b.off("zoom",e)}},[b,v,m,x,g]),(0,l.useEffect)(()=>{let e=()=>{let e=j.current[a];(null==e?void 0:e.bringToFront)&&e.bringToFront()};window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e,0)},[a,v]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.p,{position:t,icon:p.A}),(0,o.jsx)(d.p,{position:n,icon:p.v}),v.map((e,t)=>(null==e?void 0:e.coords)?(0,o.jsx)(f.R,{positions:e.coords,pathOptions:{color:t===a?"#1452EE":"#BCCEFB",weight:t===a?7:5,opacity:1},eventHandlers:{click:()=>s(t)},ref:e=>{e&&(j.current[t]=e)}},t):null)]})},x=e=>{let{mapPoints:t,routes:n}=e;return(0,o.jsx)(o.Fragment,{children:t.map((e,t)=>{let r=n[t];return e&&(null==r?void 0:r.totalTimeMinutes)!=null?(0,o.jsxs)("div",{style:{position:"absolute",left:e.x,top:e.y,transform:"translate(-50%, -100%)",pointerEvents:"none",fontFamily:"Roboto, sans-serif",fontSize:"13px",color:"#202124"},children:[(0,o.jsxs)("div",{style:{background:"#fff",borderRadius:"4px",padding:"4px 8px",boxShadow:"0 2px 6px rgba(0,0,0,0.3)",display:"flex",alignItems:"center",gap:"4px",fontWeight:500},children:[(0,o.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"#5f6368",children:(0,o.jsx)("path",{d:"M18.92 5.01C18.72 4.42 18.16 4 17.5 4h-11c-.66 0-1.23.42-1.43 1.01L3 11v7c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h10v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-7l-1.08-5.99zM6.85 6h10.29l1.04 3H5.81l1.04-3zM5 16v-3h14v3H5z"})}),(0,o.jsxs)("span",{children:[r.totalTimeMinutes," min"]})]}),(0,o.jsx)("div",{style:{width:0,height:0,margin:"0 auto",borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderTop:"6px solid #fff",boxShadow:"0 2px 6px rgba(0,0,0,0.3)"}})]},"label-".concat(t)):null})})},g=()=>{let[e,t]=(0,l.useState)(!1);return(0,o.jsxs)("label",{className:"inline-flex items-center cursor-pointer mt-3 mx-auto",children:[(0,o.jsx)("input",{type:"checkbox",checked:e,onChange:()=>t(e=>!e),className:"sr-only"}),(0,o.jsx)("div",{className:"relative w-12 h-6 rounded-full transition-colors ".concat(e?"bg-blue-600":"bg-gray-300"),children:(0,o.jsx)("div",{className:"absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full transition-transform ".concat(e?"translate-x-6":"")})})]})},b=()=>{let[e,t]=(0,l.useState)(!1);return(0,o.jsx)("button",{onClick:()=>t(!0),className:"mt-2 px-4 py-2 bg-blue-600 text-white font-semibold rounded-md shadow hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:e?"Confirmed!":"Confirm & Continue"})},v=e=>{let{step:t,onNext:n,onBack:r,onSkip:l,onFinish:i,instructions:a=[]}=e,s=a[t]||{title:"",lines:[],example:null},c=t===a.length-1;return(0,o.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",color:"#333",fontFamily:"system-ui, sans-serif"},children:(0,o.jsxs)("div",{style:{backgroundColor:"#fff",maxWidth:"480px",width:"100%",borderRadius:"12px",padding:"24px",boxShadow:"0 8px 24px rgba(0,0,0,0.2)",textAlign:"center"},children:[(0,o.jsx)("h2",{style:{marginTop:0,marginBottom:"16px",fontSize:"1.5rem",fontWeight:600},children:s.title}),(0,o.jsxs)("div",{style:{marginBottom:"24px",lineHeight:1.6,fontSize:"1rem"},children:[s.lines.map((e,t)=>(0,o.jsx)("p",{style:{margin:t===s.lines.length-1?0:"0 0 12px"},children:e},t)),"switch"===s.example&&(0,o.jsx)(g,{}),"button"===s.example&&(0,o.jsx)(b,{})]}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,o.jsx)("button",{onClick:l,style:{background:"none",border:"none",color:"#666",cursor:"pointer",fontSize:"14px",textDecoration:"underline"},children:"Skip"}),(0,o.jsxs)("div",{children:[t>0&&(0,o.jsx)("button",{onClick:r,style:{padding:"8px 12px",marginRight:"10px",backgroundColor:"#eee",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Back"}),(0,o.jsx)("button",{onClick:c?i:n,style:{padding:"8px 16px",backgroundColor:"#1452EE",color:"#fff",border:"none",borderRadius:"6px",fontWeight:"bold",cursor:"pointer"},children:c?"Start":"Next"})]})]})]})})},y=e=>{let{consentText:t,checkboxChecked:n,setCheckboxChecked:r,onSubmit:i}=e,a=(0,l.useRef)(null),[s,c]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{if(a.current){let{scrollHeight:e,clientHeight:t}=a.current;e<=t&&c(!0)}},[t]),(0,o.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,o.jsxs)("div",{style:{backgroundColor:"#fff",width:"90%",maxWidth:"600px",maxHeight:"80vh",borderRadius:"10px",padding:"20px",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:"0 4px 20px rgba(0,0,0,0.3)"},children:[(0,o.jsx)("h2",{children:"Consent Form"}),(0,o.jsx)("div",{ref:a,onScroll:e=>{let{scrollTop:t,scrollHeight:n,clientHeight:r}=e.target;t+r>=n-5&&c(!0)},style:{overflowY:"auto",flex:"1 1 auto",marginBottom:"12px",border:"1px solid #ccc",borderRadius:"6px",padding:"10px"},children:null==t?void 0:t.split("\n").map((e,t)=>(0,o.jsx)("p",{children:e.trim()},t))}),(0,o.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,o.jsx)("input",{type:"checkbox",checked:n,onChange:e=>r(e.target.checked)}),"I agree to the terms and conditions."]}),(0,o.jsx)("button",{disabled:!s||!n,onClick:i,style:{marginTop:"12px",padding:"10px",backgroundColor:s&&n?"#1452EE":"#ccc",color:"#fff",border:"none",borderRadius:"6px",fontWeight:"bold",cursor:s&&n?"pointer":"not-allowed"},children:"Submit"})]})})},j=e=>{var t,n,r,l;let{label:i,description:a,isSelected:s,onToggle:c,onSubmit:u,scenarioNumber:d,totalScenarios:f,defaultTime:p,alternativeTime:h,scenarioText:m}=e,x=(null==m||null==(t=m.line1)?void 0:t.replace("{defaultTime}",p))||"The time-efficient route takes approximately ".concat(p," minutes."),g=(null==m||null==(r=m.line2)||null==(n=r.replace("{label}",i))?void 0:n.replace("{alternativeTime}",h))||"The ".concat(i," route prioritizes safety and takes about ").concat(h," minutes."),b=(null==m||null==(l=m.line3)?void 0:l.replace("{label}",i.toLowerCase()))||"Use the toggle below to activate the ".concat(i.toLowerCase()," route if you prefer safety over speed.");return(0,o.jsxs)("div",{className:"absolute top-5 left-5 w-80 bg-white p-6 rounded-xl shadow-lg z-[1000] text-base text-gray-800 font-sans",children:[(0,o.jsxs)("p",{className:"font-semibold",children:["Scenario ",d," out of ",f]}),(0,o.jsxs)("div",{className:"mt-3 mb-6 p-4 bg-gray-100 rounded-md text-gray-700",children:[(0,o.jsx)("p",{className:"mb-2",children:x}),(0,o.jsx)("p",{className:"mb-2",children:g}),(0,o.jsx)("p",{className:"text-sm",children:b})]}),(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"font-medium",children:i}),a&&(0,o.jsx)("p",{className:"text-xs text-gray-500",children:a})]}),(0,o.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,o.jsx)("input",{type:"checkbox",checked:s,onChange:c,className:"sr-only peer"}),(0,o.jsx)("div",{className:"w-14 h-7 bg-gray-300 rounded-full relative transition-colors peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:w-6 after:h-6 after:bg-white after:rounded-full after:transition-transform peer-checked:after:translate-x-7"})]})]}),(0,o.jsx)("button",{onClick:u,className:"w-full py-3 px-5 bg-blue-600 text-white font-semibold rounded-md shadow hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Confirm & Continue"})]})]})},w=e=>{let{currentStep:t,totalSteps:n}=e;return(0,o.jsx)("div",{className:"absolute top-0 left-0 w-full h-2 bg-gray-200 z-[1000]",children:(0,o.jsx)("div",{className:"h-full bg-blue-600 transition-all duration-300",style:{width:"".concat((t+1)/n*100,"%")}})})},_={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},C=new Uint8Array(16),k=[];for(let e=0;e<256;++e)k.push((e+256).toString(16).slice(1));let S=function(e,t,n){if(_.randomUUID&&!t&&!e)return _.randomUUID();let o=(e=e||{}).random||(e.rng||function(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(C)})();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=o[e];return t}return function(e,t=0){return k[e[t+0]]+k[e[t+1]]+k[e[t+2]]+k[e[t+3]]+"-"+k[e[t+4]]+k[e[t+5]]+"-"+k[e[t+6]]+k[e[t+7]]+"-"+k[e[t+8]]+k[e[t+9]]+"-"+k[e[t+10]]+k[e[t+11]]+k[e[t+12]]+k[e[t+13]]+k[e[t+14]]+k[e[t+15]]}(o)};var E=n(63);function I(e){return Array.isArray(e)&&0!==e.length?e[Math.floor(Math.random()*e.length)]:null}var R=n(2926);let T=()=>{var e;let[t,n]=(0,l.useState)(null),[r,s]=(0,l.useState)(!1),[u,d]=(0,l.useState)(!1),[f,p]=(0,l.useState)(!1),[h,g]=(0,l.useState)(0),[b,_]=(0,l.useState)([]),[C,k]=(0,l.useState)([]),[T,N]=(0,l.useState)([]),[A,z]=(0,l.useState)(0),[M,L]=(0,l.useState)("default"),[B,O]=(0,l.useState)(0),[P,U]=(0,l.useState)(null),[W]=(0,l.useState)(S());(0,l.useEffect)(()=>{localStorage.setItem("sessionId",W)},[W]);let F=(0,E.useRouter)();(0,l.useEffect)(()=>{fetch((0,R.hd)("/api/route-endpoints")).then(e=>e.json()).then(e=>{n(e),N((Array.isArray(e.scenarios)?e.scenarios:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="object"==typeof e.scenarios&&null!==e.scenarios?Object.entries(e.scenarios):[],n=e.settings||{},r=Math.min("number"==typeof n.number_of_scenarios?n.number_of_scenarios:t.length,t.length),o=t.slice();return r<t.length&&(o=o.sort(()=>Math.random()-.5).slice(0,r)),n.scenario_shuffle&&(o=o.sort(()=>Math.random()-.5)),o.map(e=>{let[,t]=e,n={start:I(t.start),end:I(t.end),default_route_time:I(t.default_route_time),scenario_name:Array.isArray(t.scenario_name)?I(t.scenario_name):t.scenario_name,value_name:Array.isArray(t.value_name)?I(t.value_name):t.value_name,description:Array.isArray(t.description)?I(t.description):t.description,choice_list:(t.choice_list||[]).map(e=>({middle_point:I(e.middle_point),tts:I(e.tts),preselected:e.preselected})),randomly_preselect_route:t.randomly_preselect_route};if(n.randomly_preselect_route){let e=Math.floor(Math.random()*n.choice_list.length);n.choice_list=n.choice_list.map((t,n)=>({...t,preselected:n===e}))}else{let e=!1;n.choice_list=n.choice_list.map(t=>t.preselected&&!e?(e=!0,t):{...t,preselected:!1}),!e&&n.choice_list.length>0&&(n.choice_list[0].preselected=!0)}return delete n.randomly_preselect_route,n})}({scenarios:e.scenarios,settings:e.settings})).map(e=>{let t=(e.choice_list||[]).map(t=>{var n;let r=null!=(n=null==t?void 0:t.tts)?n:0;return{middle:t.middle_point,tts:r,totalTimeMinutes:e.default_route_time+r,preselected:t.preselected}}),n=Math.max(0,t.findIndex(e=>e.preselected));return{label:e.scenario_name,description:e.description,start:e.start,end:e.end,defaultTime:e.default_route_time,alternatives:t,preselectedIndex:n}}))}).catch(e=>{console.error("Failed to load route config:",e),U("Failed to load route configuration. Please try again later.")})},[]);let H=async()=>{var e,t;let n=T[A],r=n.defaultTime,o=0===B?0:null!=(t=null==(e=n.alternatives[B-1])?void 0:e.tts)?t:0;try{await fetch((0,R.hd)("/api/log-choice"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:W,scenarioIndex:A,choice:M,tts:o,defaultTime:r})}),A+1>=T.length?F.push("/thank-you"):(z(e=>e+1),L("default"),O(0))}catch(e){console.error("Error sending choice:",e),alert("Failed to log choice. Please try again.")}},{consentText:Z,scenarioText:D,instructions:K}=t||{},$=T[A],q=null==$?void 0:$.defaultTime,Q=(0,l.useMemo)(()=>{if(!$)return null;let e=[$.start,$.end];return $.alternatives.forEach(t=>{t.middle&&e.push(t.middle)}),c().latLngBounds(e)},[$]);return P?(0,o.jsx)("div",{children:P}):t&&0!==T.length&&Q?(0,o.jsxs)("div",{style:{position:"relative",width:"100vw",height:"100vh"},children:[r&&!f&&(0,o.jsx)(w,{currentStep:A,totalSteps:T.length}),(0,o.jsxs)(i.W,{bounds:Q,boundsOptions:{padding:[50,50],maxZoom:15},style:{height:"100%",width:"100%"},scrollWheelZoom:!1,doubleClickZoom:!1,touchZoom:!1,boxZoom:!1,keyboard:!1,zoomControl:!1,children:[(0,o.jsx)(a.e,{attribution:'\xa9 <a href="https://carto.com/">CARTO</a>',url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png"}),(0,o.jsx)(m,{from:$.start,to:$.end,alternatives:$.alternatives,defaultTimeMinutes:q,selectedIndex:B,setSelectedIndex:e=>{O(e),L(0===e?"default":$.label)},consentGiven:r,setMapPoints:_,setRoutes:k})]}),r&&(0,o.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:400},children:(0,o.jsx)(x,{mapPoints:b,routes:C})}),!r&&(0,o.jsx)(y,{consentText:Z,checkboxChecked:u,setCheckboxChecked:d,onSubmit:()=>{s(!0),p(!0)}}),f&&(0,o.jsx)(v,{step:h,instructions:K,onNext:()=>g(e=>e+1),onBack:()=>g(e=>e-1),onSkip:()=>{p(!1),g(0)},onFinish:()=>{p(!1),g(0)}}),r&&!f&&(0,o.jsx)(j,{label:$.label,description:$.description,isSelected:0!==B,onToggle:()=>{0!==B?(L("default"),O(0)):(L($.label),O($.preselectedIndex+1))},onSubmit:H,scenarioNumber:A+1,totalScenarios:T.length,defaultTime:q,alternativeTime:0===B?q:null==(e=$.alternatives[B-1])?void 0:e.totalTimeMinutes,scenarioText:D})]}):(0,o.jsx)("div",{children:"Loading route data..."})}},2926:(e,t,n)=>{n.d(t,{hd:()=>c});var r,o,l=n(5704);let i=null!=(o=null!=(r=l.env.NEXT_PUBLIC_BASE_PATH)?r:l.env.NEXT_PUBLIC_WEBFLOW_BASE_PATH)?o:"/app",a=i&&"/"!==i?"".concat(i.startsWith("/")?"":"/").concat(i.replace(/\/$/,"")):"",s=/^[a-zA-Z][a-zA-Z0-9+.-]*:/;function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e)return a||"";if(s.test(e))return e;let t=e.startsWith("/")?e:"/".concat(e);return a?"".concat(a).concat(t):t}},4597:(e,t,n)=>{n.d(t,{K:()=>r});async function r(e,t){if(!Array.isArray(e)||e.length<2)return null;let n=e.map(e=>{let[t,n]=e;return"".concat(n,",").concat(t)}).join(";");try{var r,o,l;let e=await fetch("https://router.project-osrm.org/route/v1/driving/".concat(n,"?overview=full&geometries=geojson"),{signal:t});if(!e.ok)return null;let i=await e.json(),a=null==i||null==(l=i.routes)||null==(o=l[0])||null==(r=o.geometry)?void 0:r.coordinates;if(!a)return null;return a.map(e=>{let[t,n]=e;return[n,t]})}catch(e){return null}}},4755:(e,t,n)=>{n.d(t,{W:()=>i});var r=n(309),o=n(5027),l=n(2115);let i=(0,l.forwardRef)(function({bounds:e,boundsOptions:t,center:n,children:i,className:a,id:s,placeholder:c,style:u,whenReady:d,zoom:f,...p},h){let[m]=(0,l.useState)({className:a,id:s,style:u}),[x,g]=(0,l.useState)(null),b=(0,l.useRef)(void 0);(0,l.useImperativeHandle)(h,()=>x?.map??null,[x]);let v=(0,l.useCallback)(l=>{if(null!==l&&!b.current){let i=new o.Map(l,p);b.current=i,null!=n&&null!=f?i.setView(n,f):null!=e&&i.fitBounds(e,t),null!=d&&i.whenReady(d),g((0,r.fB)(i))}},[]);(0,l.useEffect)(()=>()=>{x?.map.remove()},[x]);let y=x?l.createElement(r.dk,{value:x},i):c??null;return l.createElement("div",{...m,ref:v},y)})},5078:(e,t,n)=>{n.d(t,{A:()=>i,v:()=>a});var r=n(5027),o=n.n(r);let l=(e,t)=>o().divIcon({className:"",iconSize:[40,40],iconAnchor:[20,40],html:'\n      <svg width="40" height="40" viewBox="0 0 24 24">\n        <path fill="'.concat(e,'" d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z"/>\n        <text x="12" y="16" text-anchor="middle" font-size="10" font-family="Arial" font-weight="bold" fill="#fff">').concat(t,"</text>\n      </svg>\n    ")}),i=l("#34A853","S"),a=l("#EA4335","E")},5384:(e,t,n)=>{n.d(t,{e:()=>a});var r=n(2440),o=n(5452),l=n(514),i=n(5027);let a=(0,r.X3)(function({url:e,...t},n){let r=new i.TileLayer(e,(0,o.P)(t,n));return(0,l.Q)(r,n)},function(e,t,n){let{opacity:r,zIndex:o}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=o&&o!==n.zIndex&&e.setZIndex(o);let{url:l}=t;null!=l&&l!==n.url&&e.setUrl(l)})},5452:(e,t,n)=>{n.d(t,{P:()=>r});function r(e,t){let n=e.pane??t.pane;return n?{...e,pane:n}:e}},6264:(e,t,n)=>{n.d(t,{p:()=>a});var r=n(2440),o=n(514),l=n(309),i=n(5027);let a=(0,r.Nq)(function({position:e,...t},n){let r=new i.Marker(e,t);return(0,o.Q)(r,(0,l.W4)(n,{overlayContainer:r}))},function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())})},7054:(e,t,n)=>{n.d(t,{ko:()=>o});var r=n(309);function o(){return(0,r.U$)().map}n(2115)},8142:(e,t,n)=>{n.d(t,{R:()=>a});var r=n(2440),o=n(514),l=n(309),i=n(5027);let a=(0,r.Lt)(function({positions:e,...t},n){let r=new i.Polyline(e,t);return(0,o.Q)(r,(0,l.W4)(n,{overlayContainer:r}))},function(e,t,n){t.positions!==n.positions&&e.setLatLngs(t.positions)})}}]);